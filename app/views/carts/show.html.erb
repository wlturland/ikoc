<h1>Your Cart</h1>

<table class="table">
  <thead>
    <tr>
      <th>&nbsp;</th>
      <th>Product</th>
      <th style="text-align: center;">Quantity</th>
      <th>Unit Price</th>
      <th>Total Price</th>
      <th>&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <% @cart.line_items.each do |item| %>
      <tr>
      <td style="text-align: center;"><%= link_to (image_tag item.product.image.url(:tiny)), item.product %></td>
        <td><%= link_to item.product.name, item.product %></td>
        <td style="text-align: center;"><%= item.quantity %></td>
        <td><%= number_to_currency item.product.price %></td>
        <td><%= number_to_currency item.total_price %></td>  
        <td><%= link_to ' Delete', item, method: :delete, data: { confirm: 'Are you sure you want to delete this item from your cart? There is no undo.' }, class: "btn btn-default btn-sm fa fa-trash-o" %></td>
      </tr>
    <% end %> 
  </tbody>
  <tfoot>
    <th>&nbsp;</th>
    <th>&nbsp;</th>
    <th>&nbsp;</th>
    <th>Subtotal: <%= number_to_currency @cart.subtotal %></th> 
    <th>&nbsp;</th>
  </tfoot>
</table>

<h3>Order Subtotal: <%= number_to_currency @cart.subtotal %> </h3>


<%= link_to " Continue Shopping", storefront_all_items_path, class: "btn btn-default btn-sm fa fa-cart" %>

<%= button_to " Empty Cart", @cart, method: :delete, data: {confirm: "Are you sure you want to remove all items from your cart?"}, class: "btn btn-danger btn-sm fa fa-trash", form: {style: "display: inline-block;"} %>
